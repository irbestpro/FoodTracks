{"ast":null,"code":"import Cookie from \"js-cookie\";\nexport const server = 'http://localhost:8000/';\n\n//___________________Check results______________________\n\nconst result_Checker = response => {\n  // works like a session\n  if (response !== null && response.detail === \"Token is Invalid\") {\n    // invalid token\n    Cookie.remove(\"token\"); // remove the token from cookie\n    window.location.href = \"/\";\n  } else return response;\n};\nexport async function authenticate(url, data, token) {\n  try {\n    let result = await fetch(server + url, {\n      \"method\": \"post\",\n      headers: {\n        \"content-type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    });\n    let response = await result.json(); // response from server\n    return result_Checker(response);\n  } catch {\n    return null;\n  }\n}\nexport async function post_Requests(url, data, token) {\n  try {\n    let id = JSON.parse(Cookie.get(\"token\")).id;\n    let result = await fetch(server + url, {\n      \"method\": \"post\",\n      headers: {\n        \"X-Token\": token,\n        \"content-type\": \"application/json\",\n        'X-id': id\n      },\n      body: JSON.stringify(data)\n    });\n    let response = await result.json(); // response from server\n    return result_Checker(response);\n  } catch {\n    return null;\n  }\n}\nexport async function get_Requests(url, header) {\n  try {\n    header['X-id'] = JSON.parse(Cookie.get(\"token\")).id;\n    let result = header === null ? await fetch(server + url) : await fetch(server + url, {\n      headers: header\n    });\n    let response = await result.json(); // response from server\n    return result_Checker(response);\n  } catch {\n    return null;\n  }\n}","map":{"version":3,"names":["Cookie","server","result_Checker","response","detail","remove","window","location","href","authenticate","url","data","token","result","fetch","headers","body","JSON","stringify","json","post_Requests","id","parse","get","get_Requests","header"],"sources":["/Volumes/Bestpro/Main Works/Interviews/Food Tracker/FrontEnd/fe/src/Utilities/Request.js"],"sourcesContent":["import Cookie from \"js-cookie\";\nexport const server = 'http://localhost:8000/';\n\n//___________________Check results______________________\n\nconst result_Checker = (response)=>{ // works like a session\n    if (response !== null && response.detail === \"Token is Invalid\"){ // invalid token\n        Cookie.remove(\"token\"); // remove the token from cookie\n        window.location.href = \"/\";\n    }\n    else\n        return response;\n}\n\nexport async function authenticate(url , data , token){\n    try{\n        let result = await fetch(server + url , {\"method\" : \"post\" , headers : {\"content-type\" : \"application/json\"} , body : JSON.stringify(data)});\n        let response = await result.json(); // response from server\n        return result_Checker(response);    \n    }\n    catch{\n        return null;\n    }\n}\n\nexport async function post_Requests(url , data , token){\n    try{\n        let id = JSON.parse(Cookie.get(\"token\")).id\n        let result = await fetch(server + url , {\"method\" : \"post\" , headers : {\"X-Token\" : token , \"content-type\" : \"application/json\" , 'X-id' : id} , body : JSON.stringify(data)});\n        let response = await result.json(); // response from server\n        return result_Checker(response);    \n    }\n    catch{\n        return null;\n    }\n}\n\nexport async function get_Requests(url , header){\n    try{\n        header['X-id'] = JSON.parse(Cookie.get(\"token\")).id\n        let result = header === null ? await fetch(server + url) : await fetch(server + url , {headers : header});\n        let response = await result.json(); // response from server\n        return result_Checker(response);\n    }\n    catch{\n        return null;\n    }\n}"],"mappings":"AAAA,OAAOA,MAAM,MAAM,WAAW;AAC9B,OAAO,MAAMC,MAAM,GAAG,wBAAwB;;AAE9C;;AAEA,MAAMC,cAAc,GAAIC,QAAQ,IAAG;EAAE;EACjC,IAAIA,QAAQ,KAAK,IAAI,IAAIA,QAAQ,CAACC,MAAM,KAAK,kBAAkB,EAAC;IAAE;IAC9DJ,MAAM,CAACK,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;IACxBC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,GAAG;EAC9B,CAAC,MAEG,OAAOL,QAAQ;AACvB,CAAC;AAED,OAAO,eAAeM,YAAYA,CAACC,GAAG,EAAGC,IAAI,EAAGC,KAAK,EAAC;EAClD,IAAG;IACC,IAAIC,MAAM,GAAG,MAAMC,KAAK,CAACb,MAAM,GAAGS,GAAG,EAAG;MAAC,QAAQ,EAAG,MAAM;MAAGK,OAAO,EAAG;QAAC,cAAc,EAAG;MAAkB,CAAC;MAAGC,IAAI,EAAGC,IAAI,CAACC,SAAS,CAACP,IAAI;IAAC,CAAC,CAAC;IAC5I,IAAIR,QAAQ,GAAG,MAAMU,MAAM,CAACM,IAAI,CAAC,CAAC,CAAC,CAAC;IACpC,OAAOjB,cAAc,CAACC,QAAQ,CAAC;EACnC,CAAC,CACD,MAAK;IACD,OAAO,IAAI;EACf;AACJ;AAEA,OAAO,eAAeiB,aAAaA,CAACV,GAAG,EAAGC,IAAI,EAAGC,KAAK,EAAC;EACnD,IAAG;IACC,IAAIS,EAAE,GAAGJ,IAAI,CAACK,KAAK,CAACtB,MAAM,CAACuB,GAAG,CAAC,OAAO,CAAC,CAAC,CAACF,EAAE;IAC3C,IAAIR,MAAM,GAAG,MAAMC,KAAK,CAACb,MAAM,GAAGS,GAAG,EAAG;MAAC,QAAQ,EAAG,MAAM;MAAGK,OAAO,EAAG;QAAC,SAAS,EAAGH,KAAK;QAAG,cAAc,EAAG,kBAAkB;QAAG,MAAM,EAAGS;MAAE,CAAC;MAAGL,IAAI,EAAGC,IAAI,CAACC,SAAS,CAACP,IAAI;IAAC,CAAC,CAAC;IAC9K,IAAIR,QAAQ,GAAG,MAAMU,MAAM,CAACM,IAAI,CAAC,CAAC,CAAC,CAAC;IACpC,OAAOjB,cAAc,CAACC,QAAQ,CAAC;EACnC,CAAC,CACD,MAAK;IACD,OAAO,IAAI;EACf;AACJ;AAEA,OAAO,eAAeqB,YAAYA,CAACd,GAAG,EAAGe,MAAM,EAAC;EAC5C,IAAG;IACCA,MAAM,CAAC,MAAM,CAAC,GAAGR,IAAI,CAACK,KAAK,CAACtB,MAAM,CAACuB,GAAG,CAAC,OAAO,CAAC,CAAC,CAACF,EAAE;IACnD,IAAIR,MAAM,GAAGY,MAAM,KAAK,IAAI,GAAG,MAAMX,KAAK,CAACb,MAAM,GAAGS,GAAG,CAAC,GAAG,MAAMI,KAAK,CAACb,MAAM,GAAGS,GAAG,EAAG;MAACK,OAAO,EAAGU;IAAM,CAAC,CAAC;IACzG,IAAItB,QAAQ,GAAG,MAAMU,MAAM,CAACM,IAAI,CAAC,CAAC,CAAC,CAAC;IACpC,OAAOjB,cAAc,CAACC,QAAQ,CAAC;EACnC,CAAC,CACD,MAAK;IACD,OAAO,IAAI;EACf;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}