{"ast":null,"code":"import Cookie from \"js-cookie\";\nexport const server = 'http://localhost:8000/';\n\n//___________________Check results______________________\n\nconst result_Checker = response => {\n  // works like a session\n  if (response !== null && response.detail === \"Token is Invalid\") {\n    // invalid token\n    Cookie.remove(\"token\"); // remove the token from cookie\n    window.location.href = \"/\";\n  } else return response;\n};\nexport async function authenticate(url, data) {\n  try {\n    let result = await fetch(server + url, {\n      \"method\": \"post\",\n      headers: {\n        \"content-type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    });\n    let response = await result.json(); // response from server\n    return result_Checker(response);\n  } catch {\n    return null;\n  }\n}\nexport async function post_Requests(url, data, token) {\n  try {\n    let result = await fetch(server + url, {\n      \"method\": \"post\",\n      headers: {\n        \"X-Token\": token,\n        \"content-type\": \"application/json\"\n      },\n      body: JSON.stringify(data)\n    });\n    let response = await result.json(); // response from server\n    return result_Checker(response);\n  } catch {\n    return null;\n  }\n}\nexport async function get_Requests(url, header) {\n  try {\n    let result = header === null ? await fetch(server + url) : await fetch(server + url, {\n      headers: header\n    });\n    let response = await result.json(); // response from server\n    return result_Checker(response);\n  } catch {\n    return null;\n  }\n}","map":{"version":3,"names":["Cookie","server","result_Checker","response","detail","remove","window","location","href","authenticate","url","data","result","fetch","headers","body","JSON","stringify","json","post_Requests","token","get_Requests","header"],"sources":["/Volumes/Bestpro/Main Works/Interviews/Food Tracker/FrontEnd/fe/src/Utilities/Request.js"],"sourcesContent":["import Cookie from \"js-cookie\";\nexport const server = 'http://localhost:8000/';\n\n//___________________Check results______________________\n\nconst result_Checker = (response)=>{ // works like a session\n    if (response !== null && response.detail === \"Token is Invalid\"){ // invalid token\n        Cookie.remove(\"token\"); // remove the token from cookie\n        window.location.href = \"/\";\n    }\n    else\n        return response;\n}\n\nexport async function authenticate(url , data){\n    try{\n        let result = await fetch(server + url , {\"method\" : \"post\" , headers : {\"content-type\" : \"application/json\"} , body : JSON.stringify(data)});\n        let response = await result.json(); // response from server\n        return result_Checker(response);    \n    }\n    catch{\n        return null;\n    }\n}\n\nexport async function post_Requests(url , data , token){\n    try{\n        let result = await fetch(server + url , {\"method\" : \"post\" , headers : {\"X-Token\" : token , \"content-type\" : \"application/json\"} , body : JSON.stringify(data)});\n        let response = await result.json(); // response from server\n        return result_Checker(response);    \n    }\n    catch{\n        return null;\n    }\n}\n\nexport async function get_Requests(url , header){\n    try{\n        let result = header === null ? await fetch(server + url) : await fetch(server + url , {headers : header});\n        let response = await result.json(); // response from server\n        return result_Checker(response);\n    }\n    catch{\n        return null;\n    }\n}"],"mappings":"AAAA,OAAOA,MAAM,MAAM,WAAW;AAC9B,OAAO,MAAMC,MAAM,GAAG,wBAAwB;;AAE9C;;AAEA,MAAMC,cAAc,GAAIC,QAAQ,IAAG;EAAE;EACjC,IAAIA,QAAQ,KAAK,IAAI,IAAIA,QAAQ,CAACC,MAAM,KAAK,kBAAkB,EAAC;IAAE;IAC9DJ,MAAM,CAACK,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;IACxBC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,GAAG;EAC9B,CAAC,MAEG,OAAOL,QAAQ;AACvB,CAAC;AAED,OAAO,eAAeM,YAAYA,CAACC,GAAG,EAAGC,IAAI,EAAC;EAC1C,IAAG;IACC,IAAIC,MAAM,GAAG,MAAMC,KAAK,CAACZ,MAAM,GAAGS,GAAG,EAAG;MAAC,QAAQ,EAAG,MAAM;MAAGI,OAAO,EAAG;QAAC,cAAc,EAAG;MAAkB,CAAC;MAAGC,IAAI,EAAGC,IAAI,CAACC,SAAS,CAACN,IAAI;IAAC,CAAC,CAAC;IAC5I,IAAIR,QAAQ,GAAG,MAAMS,MAAM,CAACM,IAAI,CAAC,CAAC,CAAC,CAAC;IACpC,OAAOhB,cAAc,CAACC,QAAQ,CAAC;EACnC,CAAC,CACD,MAAK;IACD,OAAO,IAAI;EACf;AACJ;AAEA,OAAO,eAAegB,aAAaA,CAACT,GAAG,EAAGC,IAAI,EAAGS,KAAK,EAAC;EACnD,IAAG;IACC,IAAIR,MAAM,GAAG,MAAMC,KAAK,CAACZ,MAAM,GAAGS,GAAG,EAAG;MAAC,QAAQ,EAAG,MAAM;MAAGI,OAAO,EAAG;QAAC,SAAS,EAAGM,KAAK;QAAG,cAAc,EAAG;MAAkB,CAAC;MAAGL,IAAI,EAAGC,IAAI,CAACC,SAAS,CAACN,IAAI;IAAC,CAAC,CAAC;IAChK,IAAIR,QAAQ,GAAG,MAAMS,MAAM,CAACM,IAAI,CAAC,CAAC,CAAC,CAAC;IACpC,OAAOhB,cAAc,CAACC,QAAQ,CAAC;EACnC,CAAC,CACD,MAAK;IACD,OAAO,IAAI;EACf;AACJ;AAEA,OAAO,eAAekB,YAAYA,CAACX,GAAG,EAAGY,MAAM,EAAC;EAC5C,IAAG;IACC,IAAIV,MAAM,GAAGU,MAAM,KAAK,IAAI,GAAG,MAAMT,KAAK,CAACZ,MAAM,GAAGS,GAAG,CAAC,GAAG,MAAMG,KAAK,CAACZ,MAAM,GAAGS,GAAG,EAAG;MAACI,OAAO,EAAGQ;IAAM,CAAC,CAAC;IACzG,IAAInB,QAAQ,GAAG,MAAMS,MAAM,CAACM,IAAI,CAAC,CAAC,CAAC,CAAC;IACpC,OAAOhB,cAAc,CAACC,QAAQ,CAAC;EACnC,CAAC,CACD,MAAK;IACD,OAAO,IAAI;EACf;AACJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}